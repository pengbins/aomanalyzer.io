!function(e){function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var a={};r.m=e,r.c=a,r.i=function(e){return e},r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=342)}({342:function(e,r){function a(e,r){if(void 0===r&&(r=""),!e)throw new Error(r)}function t(e,r){var a={locateFile:function(e){return l+e},noExitRuntime:!0,noInitialRun:!0,preRun:[],postRun:[function(){}],memoryInitializerPrefixURL:"bin/",arguments:["input.ivf","output.raw"],on_frame_decoded_json:function(e){var r="";if("undefined"!=typeof TextDecoder){for(var t=a.HEAP8,n=e;0!=t[n];)n++;r=new TextDecoder("utf-8").decode(t.subarray(e,n))}else r=a.UTF8ToString(e);m=JSON.parse("["+r+"null]")},onRuntimeInitialized:function(){r(a)}};DecoderModule(a)}function n(e){p=e[16]|e[17]<<24|e[18]<<16|e[19]<<24,e=e,_.FS.writeFile("/tmp/input.ivf",e,{encoding:"binary"}),_._open_file()}function o(e){g.length<64&&g.push(e)}function i(e){var r;for(r=0;r<g.length;r++)if(g[r].byteLength===e)return g.splice(r,1)[0];return null}function f(){return _._get_image_format?_._get_image_format():b}function d(e){var r=_._get_plane(e),a=_.HEAPU8,t=_._get_plane_stride(e),n=_._get_bit_depth(),o=_._get_frame_width(),d=_._get_frame_height(),u=f(),s=u&y;s&&(t>>=1);var c,l;u==v||u==h?(c=0,l=0):(c=e>0?1:0,l=e>0?1:0),o>>=c,d>>=l;var p=d*o,m=i(p);if(m&&!s){var g=new Uint8Array(m);if(t===o)g.set(a.subarray(r,r+p));else for(var b=0;b<d;b++)g.set(a.subarray(r,r+o),b*o),r+=t}else if(s){var w=m?new Uint8Array(m):new Uint8Array(p);if(10==n)for(var U=0;U<d;U++)for(var x=0;x<o;x++){var F=U*(t<<1)+(x<<1);w[U*o+x]=a[r+F]+(a[r+F+1]<<8)>>2}else for(var U=0;U<d;U++)for(var x=0;x<o;x++){var F=U*(t<<1)+(x<<1);w[U*o+x]=a[r+F]}m=w.buffer,n=8}else if(t===o)m=a.slice(r,r+p).buffer;else{for(var g=new Uint8Array(p),b=0;b<d;b++)g.set(a.subarray(r,r+o),b*o),r+=t;m=g.buffer}return{buffer:m,stride:o,depth:n,width:o,height:d,xdec:c,ydec:l}}function u(){return{hashCode:1e6*Math.random()|0,Y:d(0),U:d(1),V:d(2)}}function s(e){var r=performance.now();if(0!=_._read_frame())return postMessage({command:"readFrameResult",payload:{json:null,decodeTime:performance.now()-r},id:e.data.id},void 0),null;var t=null;e.data.shouldReadImageData&&(t=u()),self.postMessage({command:"readFrameResult",payload:{json:m,image:t,decodeTime:performance.now()-r},id:e.data.id},t?[t.Y.buffer,t.U.buffer,t.V.buffer]:void 0),a(0===t.Y.buffer.byteLength&&0===t.U.buffer.byteLength&&0===t.V.buffer.byteLength,"Buffers must be transferred.")}function c(e){_._set_layers(e.data.payload)}var l="";onmessage=function(e){switch(e.data.command){case"load":try{var r=e.data.payload,a=r[0];l=a.substring(0,a.lastIndexOf("/")+1),importScripts.apply(self,r),t(r[0],function(r){_=r,_._set_compress&&_._set_compress(1);var a;a=_._get_aom_codec_build_config?_.UTF8ToString(_._get_aom_codec_build_config()):_._get_codec_build_config?_.UTF8ToString(_._get_codec_build_config()):"N/A",postMessage({command:"loadResult",payload:{buildConfig:a},id:e.data.id},void 0)})}catch(r){postMessage({command:"loadResult",payload:!1,id:e.data.id},void 0)}break;case"readFrame":s(e);break;case"setLayers":c(e);break;case"openFileBytes":n(e.data.payload);break;case"releaseFrameBuffers":o(e.data.payload.Y),o(e.data.payload.U),o(e.data.payload.V)}};var _=null,p=0,m=null,g=[],b=256,y=2048,v=6|b,h=v|y}});